{"ast":null,"code":"var _jsxFileName = \"C:\\\\curso react 2\\\\ecommerce-ngelabert\\\\src\\\\components\\\\cart\\\\Cart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useCartContext } from '../../context/CartContext';\nimport './cart.css';\nimport { getFirestore } from '../utils/getFirebase';\nimport firebase from 'firebase';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport ListCartItems from './ListCartItems';\nimport CartForm from './CartForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  const {\n    cart,\n    clearCart\n  } = useCartContext();\n  const [orderData, setOrderData] = useState({});\n  const [cartOrder, setCartOrder] = useState([]);\n  const history = useHistory();\n  const total = 0;\n  const [formData, setFormData] = useState(initialState);\n  const inputs = [{\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"ingrese su nombre\",\n    value: formData.name,\n    label: \"Nombre\"\n  }, {\n    type: \"text\",\n    name: \"lastname\",\n    placeholder: \"ingrese su apellido\",\n    value: formData.lastname,\n    label: \"Apellido\"\n  }, {\n    type: \"text\",\n    name: \"phone\",\n    placeholder: \"ingrese su telefono\",\n    value: formData.phone,\n    label: \"Número de teléfono\"\n  }, {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"ingrese su email\",\n    value: formData.email,\n    label: \"Email\"\n  }, {\n    type: \"email\",\n    id: \"emailconfirmation\",\n    name: \"emailconfirmation\",\n    placeholder: \"reingrese su email\",\n    label: \"Confirmá tu email\"\n  }];\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (document.getElementById(\"email\") === document.getElementById(\"emailconfirmation\")) {\n      const newOrder = {\n        date: firebase.firestore.Timestamp.fromDate(new Date()),\n        buyer: formData,\n        item: cart,\n        total: total\n      };\n      const db = getFirestore();\n      const orderCollection = db.collection('order');\n      orderCollection.add(newOrder).then(resp => setOrderData(resp)).catch(err => console.log(err)).finally(setFormData(initialState), setCartOrder(cart), clearCart(), history.push({\n        pathname: '/checkout',\n        state: {\n          data: cartOrder\n        }\n      }));\n    } else {\n      alert('Los emails no coinciden');\n    }\n  }\n\n  console.log(orderData);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cart.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://i.gifer.com/XSNt.gif\",\n        alt: \"No hay nada en tu carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No hay nada en tu carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-productos btn-lg px-4 gap-3\",\n          \"data-bs-container\": \"body\",\n          \"data-bs-toggle\": \"popover\",\n          \"data-bs-placement\": \"top\",\n          \"data-bs-content\": \"Top popover\",\n          children: \"Ver productos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(ListCartItems, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CartForm, {\n        formData: formData,\n        setFormData: setFormData,\n        initialState: initialState,\n        total: total,\n        inputs: inputs,\n        handleSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cart, \"RoOTM9O8WU9qmiNjHOlmjVtKrbk=\", false, function () {\n  return [useCartContext, useHistory];\n});\n\n_c = Cart;\nexport default Cart;\nconst initialState = {\n  name: '',\n  lastname: '',\n  phone: '',\n  emai: ''\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/curso react 2/ecommerce-ngelabert/src/components/cart/Cart.jsx"],"names":["React","useState","useCartContext","getFirestore","firebase","NavLink","useHistory","ListCartItems","CartForm","Cart","cart","clearCart","orderData","setOrderData","cartOrder","setCartOrder","history","total","formData","setFormData","initialState","inputs","type","name","placeholder","value","label","lastname","phone","id","email","handleSubmit","e","preventDefault","document","getElementById","newOrder","date","firestore","Timestamp","fromDate","Date","buyer","item","db","orderCollection","collection","add","then","resp","catch","err","console","log","finally","push","pathname","state","data","alert","length","emai"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useCartContext } from '../../context/CartContext'\r\nimport './cart.css'\r\nimport { getFirestore } from '../utils/getFirebase'\r\nimport firebase from 'firebase'\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport ListCartItems from './ListCartItems';\r\nimport CartForm from './CartForm';\r\n\r\nconst Cart = () => {\r\n    \r\n    const { cart, clearCart } = useCartContext()\r\n    const [orderData, setOrderData] = useState({})\r\n    const [cartOrder, setCartOrder] = useState([])\r\n    const history = useHistory()\r\n    \r\n    const total = 0;\r\n\r\n    const [formData, setFormData] = useState(initialState)\r\n    const inputs = [\r\n        {type:\"text\", name:\"name\", placeholder:\"ingrese su nombre\", value: formData.name, label: \"Nombre\"},\r\n        {type:\"text\", name:\"lastname\", placeholder:\"ingrese su apellido\", value: formData.lastname, label: \"Apellido\"},\r\n        {type:\"text\", name:\"phone\", placeholder:\"ingrese su telefono\", value: formData.phone, label: \"Número de teléfono\"},\r\n        {type:\"email\", id: \"email\", name:\"email\", placeholder:\"ingrese su email\", value: formData.email, label: \"Email\"},\r\n        {type:\"email\", id:\"emailconfirmation\", name:\"emailconfirmation\", placeholder:\"reingrese su email\", label: \"Confirmá tu email\"}\r\n    ]\r\n    \r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        if (document.getElementById(\"email\") === document.getElementById(\"emailconfirmation\")) { \r\n            const newOrder = {\r\n                date: firebase.firestore.Timestamp.fromDate(new Date()),\r\n                buyer: formData,\r\n                item: cart,\r\n                total: total,\r\n            }\r\n            const db = getFirestore();\r\n            const orderCollection = db.collection('order');\r\n            orderCollection\r\n            .add(newOrder)\r\n            .then(resp => setOrderData(resp))\r\n            .catch(err => console.log(err))\r\n            .finally(\r\n                setFormData(initialState),\r\n                setCartOrder(cart),\r\n                clearCart(),\r\n                history.push({pathname:'/checkout', state:{data: cartOrder}})\r\n            )\r\n        }else{\r\n            alert('Los emails no coinciden')\r\n        }\r\n    }\r\n    console.log(orderData)\r\n    return (\r\n        <>{cart.length === 0 &&\r\n        <div className=\"row cart\">\r\n            <img src=\"https://i.gifer.com/XSNt.gif\" alt=\"No hay nada en tu carrito\"/>\r\n            <h3>No hay nada en tu carrito</h3>\r\n            <NavLink to=\"/\"><button type=\"button\" className=\"btn btn-productos btn-lg px-4 gap-3\" data-bs-container=\"body\" data-bs-toggle=\"popover\" data-bs-placement=\"top\" data-bs-content=\"Top popover\">Ver productos</button></NavLink>\r\n        </div>\r\n        }\r\n        {cart.length > 0 && \r\n        <div className=\"container\">\r\n            \r\n                <ListCartItems/>\r\n                <CartForm\r\n                    formData={formData}\r\n                    setFormData={setFormData}\r\n                    initialState={initialState}\r\n                    total={total}\r\n                    inputs={inputs}\r\n                    handleSubmit={handleSubmit}\r\n                />\r\n                {/* <NavLink to=\"/checkout\">\r\n                    <button className=\"btn btn-productos btn-lg px-4 gap-3\">completar compra</button>\r\n                </NavLink> */}\r\n                \r\n        </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n\r\nconst initialState = {\r\n    name: '',\r\n    lastname: '',\r\n    phone: '',\r\n    emai:''\r\n}"]},"metadata":{},"sourceType":"module"}