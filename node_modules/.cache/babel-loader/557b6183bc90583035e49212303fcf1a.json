{"ast":null,"code":"import _toConsumableArray from\"C:/curso react 2/ecommerce-ngelabert/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/curso react 2/ecommerce-ngelabert/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useState,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/createContext();export var useCartContext=function useCartContext(){return useContext(CartContext);};function CartContextProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),cantItems=_useState4[0],setcantItems=_useState4[1];function isInCart(id){return cart.find(function(element){return element.item.id===id;});}function addItem(item,qty){if(isInCart(item.id)){var updateCart=_toConsumableArray(cart);updateCart.forEach(function(element){if(element.item.id===item.id){element.qty=element.qty+qty;}});setCart(updateCart);}else{setCart([].concat(_toConsumableArray(cart),[{item:item,qty:qty}]));setcantItems(cantItems+qty);}}function removeItem(item,qty){setCart(cart.filter(function(obj){return obj.item.id!==item;}));setcantItems(cantItems-qty);}function clearCart(){setCart([]);setcantItems(0);}return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart:cart,addItem:addItem,clearCart:clearCart,cantItems:cantItems,removeItem:removeItem},children:children});}export default CartContextProvider;","map":{"version":3,"sources":["C:/curso react 2/ecommerce-ngelabert/src/context/CartContext.jsx"],"names":["createContext","useState","useContext","CartContext","useCartContext","CartContextProvider","children","cart","setCart","cantItems","setcantItems","isInCart","id","find","element","item","addItem","qty","updateCart","forEach","removeItem","filter","obj","clearCart"],"mappings":"8TAAA,OAASA,aAAT,CAAwBC,QAAxB,CAAkCC,UAAlC,KAAoD,OAApD,C,2CACA,GAAMC,CAAAA,WAAW,cAAGH,aAAa,EAAjC,CAEA,MAAO,IAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,SAAMF,CAAAA,UAAU,CAACC,WAAD,CAAhB,EAAvB,CAEP,QAASE,CAAAA,mBAAT,MAAwC,IAAVC,CAAAA,QAAU,MAAVA,QAAU,CACpC,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,eAAkCP,QAAQ,CAAC,CAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eAEA,QAASC,CAAAA,QAAT,CAAkBC,EAAlB,CAAqB,CACjB,MAAOL,CAAAA,IAAI,CAACM,IAAL,CAAU,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,IAAR,CAAaH,EAAb,GAAoBA,EAAxB,EAAjB,CAAP,CACH,CAED,QAASI,CAAAA,OAAT,CAAiBD,IAAjB,CAAuBE,GAAvB,CAA2B,CACvB,GAAGN,QAAQ,CAACI,IAAI,CAACH,EAAN,CAAX,CAAqB,CACjB,GAAMM,CAAAA,UAAU,oBAAOX,IAAP,CAAhB,CACAW,UAAU,CAACC,OAAX,CAAmB,SAACL,OAAD,CAAW,CAC1B,GAAGA,OAAO,CAACC,IAAR,CAAaH,EAAb,GAAoBG,IAAI,CAACH,EAA5B,CAA+B,CAC3BE,OAAO,CAACG,GAAR,CAAcH,OAAO,CAACG,GAAR,CAAcA,GAA5B,CACH,CACJ,CAJD,EAKAT,OAAO,CAACU,UAAD,CAAP,CACH,CARD,IAQK,CACDV,OAAO,8BAAMD,IAAN,GAAY,CAACQ,IAAI,CAAJA,IAAD,CAAOE,GAAG,CAAHA,GAAP,CAAZ,GAAP,CACAP,YAAY,CAACD,SAAS,CAAGQ,GAAb,CAAZ,CACH,CACJ,CAED,QAASG,CAAAA,UAAT,CAAoBL,IAApB,CAA0BE,GAA1B,CAA+B,CAC3BT,OAAO,CAACD,IAAI,CAACc,MAAL,CAAY,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACP,IAAJ,CAASH,EAAT,GAAgBG,IAApB,EAAf,CAAD,CAAP,CACAL,YAAY,CAACD,SAAS,CAAGQ,GAAb,CAAZ,CACH,CAED,QAASM,CAAAA,SAAT,EAAoB,CAChBf,OAAO,CAAC,EAAD,CAAP,CACAE,YAAY,CAAC,CAAD,CAAZ,CACH,CAED,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACH,IAAI,CAAJA,IAAD,CAAOS,OAAO,CAAPA,OAAP,CAAgBO,SAAS,CAATA,SAAhB,CAA2Bd,SAAS,CAATA,SAA3B,CAAsCW,UAAU,CAAVA,UAAtC,CAA7B,UACKd,QADL,EADJ,CAKH,CAED,cAAeD,CAAAA,mBAAf","sourcesContent":["import { createContext, useState, useContext } from 'react'\r\nconst CartContext = createContext()\r\n\r\nexport const useCartContext = () => useContext(CartContext);\r\n\r\nfunction CartContextProvider({children}){\r\n    const [cart, setCart] = useState([]);\r\n    const [cantItems, setcantItems] = useState(0);\r\n\r\n    function isInCart(id){\r\n        return cart.find(element => element.item.id === id)\r\n    }\r\n\r\n    function addItem(item, qty){\r\n        if(isInCart(item.id)){\r\n            const updateCart = [...cart];\r\n            updateCart.forEach((element)=>{\r\n                if(element.item.id === item.id){\r\n                    element.qty = element.qty + qty;\r\n                }\r\n            })\r\n            setCart(updateCart)\r\n        }else{\r\n            setCart([ ...cart, {item, qty} ])\r\n            setcantItems(cantItems + qty);\r\n        }\r\n    }\r\n\r\n    function removeItem(item, qty) {\r\n        setCart(cart.filter(obj => obj.item.id !== item));\r\n        setcantItems(cantItems - qty);\r\n    }\r\n\r\n    function clearCart(){\r\n        setCart([])\r\n        setcantItems(0)\r\n    }\r\n\r\n    return(\r\n        <CartContext.Provider value={{cart, addItem, clearCart, cantItems, removeItem}}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport default CartContextProvider"]},"metadata":{},"sourceType":"module"}