{"ast":null,"code":"var _jsxFileName = \"C:\\\\curso react 2\\\\ecommerce-ngelabert\\\\src\\\\components\\\\checkout\\\\Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useCartContext } from '../../context/CartContext';\nimport CartForm from '../cart/CartForm';\nimport { getFirestore } from '../utils/getFirebase';\nimport firebase from 'firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Checkout = () => {\n  _s();\n\n  const [orderData, setOrderData] = useState({});\n  const {\n    clearCart,\n    cart\n  } = useCartContext();\n  const [cartOrder, setCartOrder] = useState([]);\n  const total = 0;\n  let totalShop = 0;\n  const [formData, setFormData] = useState(initialState);\n  const inputs = [{\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"ingrese su nombre\",\n    value: formData.name\n  }, {\n    type: \"text\",\n    name: \"lastname\",\n    placeholder: \"ingrese su apellido\",\n    value: formData.lastname\n  }, {\n    type: \"text\",\n    name: \"phone\",\n    placeholder: \"ingrese su telefono\",\n    value: formData.phone\n  }, {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"ingrese su email\",\n    value: formData.email\n  }, {\n    type: \"email\",\n    name: \"emailconfirmation\",\n    placeholder: \"reingrese su email\"\n  }];\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const newOrder = {\n      date: firebase.firestore.Timestamp.fromDate(new Date()),\n      buyer: formData,\n      item: cart,\n      total: total\n    };\n    const db = getFirestore();\n    const orderCollection = db.collection('order');\n    orderCollection.add(newOrder).then(resp => setOrderData(resp)).catch(err => console.log(err)).finally(setFormData(initialState), setCartOrder(cart), clearCart());\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [cart.length > 0 && /*#__PURE__*/_jsxDEV(CartForm, {\n      formData: formData,\n      setFormData: setFormData,\n      initialState: initialState,\n      total: total,\n      inputs: inputs,\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), cart.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartlistcontainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Gracias por tu compra. Tu n\\xFAmero de orden es: \", orderData.id, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Resumen de compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), cartOrder.map(element => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: element.item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: element.qty\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: element.item.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-print-none\",\n        children: cartOrder.map(element => {\n          return totalShop = element.item.price * element.qty + total;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Total: $\", totalShop]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Checkout, \"DoTwpjOLkLcudT0tWjMuJw3cvCI=\", false, function () {\n  return [useCartContext];\n});\n\n_c = Checkout;\nexport default Checkout;\nconst initialState = {\n  name: '',\n  lastname: '',\n  phone: '',\n  emai: ''\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["C:/curso react 2/ecommerce-ngelabert/src/components/checkout/Checkout.jsx"],"names":["React","useState","useCartContext","CartForm","getFirestore","firebase","Checkout","orderData","setOrderData","clearCart","cart","cartOrder","setCartOrder","total","totalShop","formData","setFormData","initialState","inputs","type","name","placeholder","value","lastname","phone","email","handleSubmit","e","preventDefault","newOrder","date","firestore","Timestamp","fromDate","Date","buyer","item","db","orderCollection","collection","add","then","resp","catch","err","console","log","finally","length","id","map","element","qty","price","emai"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useCartContext } from '../../context/CartContext';\r\nimport CartForm from '../cart/CartForm'\r\nimport { getFirestore } from '../utils/getFirebase'\r\nimport firebase from 'firebase'\r\n\r\nconst Checkout = () => {\r\n    const [orderData, setOrderData] = useState({})\r\n    const { clearCart, cart } = useCartContext()\r\n    const [cartOrder, setCartOrder] = useState([])\r\n    \r\n    const total = 0;\r\n    let totalShop = 0;\r\n\r\n    const [formData, setFormData] = useState(initialState)\r\n    const inputs = [\r\n        {type:\"text\", name:\"name\", placeholder:\"ingrese su nombre\", value: formData.name},\r\n        {type:\"text\", name:\"lastname\", placeholder:\"ingrese su apellido\", value: formData.lastname},\r\n        {type:\"text\", name:\"phone\", placeholder:\"ingrese su telefono\", value: formData.phone},\r\n        {type:\"email\", name:\"email\", placeholder:\"ingrese su email\", value: formData.email},\r\n        {type:\"email\", name:\"emailconfirmation\", placeholder:\"reingrese su email\"}\r\n    ]\r\n    \r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        const newOrder = {\r\n            date: firebase.firestore.Timestamp.fromDate(new Date()),\r\n            buyer: formData,\r\n            item: cart,\r\n            total: total,\r\n        }\r\n        const db = getFirestore();\r\n        const orderCollection = db.collection('order');\r\n        orderCollection\r\n        .add(newOrder)\r\n        .then(resp => setOrderData(resp))\r\n        .catch(err => console.log(err))\r\n        .finally(\r\n            setFormData(initialState),\r\n            setCartOrder(cart),\r\n            clearCart()\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {cart.length > 0 &&\r\n                <CartForm\r\n                formData={formData}\r\n                setFormData={setFormData}\r\n                initialState={initialState}\r\n                total={total}\r\n                inputs={inputs}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n            }\r\n            {cart.length === 0 &&\r\n                <div className=\"cartlistcontainer\">\r\n                    <h1>Gracias por tu compra. Tu número de orden es: {orderData.id} </h1>\r\n                    <h2>Resumen de compra</h2>\r\n                    {cartOrder.map((element) =>{\r\n                        return(\r\n                            <div>\r\n                                <p>{element.item.name}</p>\r\n                                <p>{element.qty}</p>\r\n                                <p>{element.item.price}</p>\r\n                            </div>\r\n                    )})}<div className=\"d-print-none\">{cartOrder.map(element => {\r\n                        return totalShop = element.item.price * element.qty + total} )}</div>\r\n                        <h3>Total: ${totalShop}</h3>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n\r\nconst initialState = {\r\n    name: '',\r\n    lastname: '',\r\n    phone: '',\r\n    emai:''\r\n}"]},"metadata":{},"sourceType":"module"}